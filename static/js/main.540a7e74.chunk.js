(this["webpackJsonptop-trumps"]=this["webpackJsonptop-trumps"]||[]).push([[0],{21:function(t,e,n){t.exports=n(35)},26:function(t,e,n){},27:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),u=(n(26),n(27),n(1)),i="768px",l="1024px",s={mobile:"(min-width: ".concat("320px",")"),tablet:"(min-width: ".concat(i,")"),desktop:"(min-width: ".concat(l,")")},d={gameState:{win:{text:"#546940",background:"#B5EAD7"},lose:{text:"#8a0000",background:"#FF9AA2"},draw:{text:"#000000",background:"#FFFFD1"},unplayed:{text:"#333333",background:"#ffffff"}},user:{background:"#a5d6f7"},computer:{background:"#FFDAC1"}},p=n(2),f=n(4),b=n.n(f);function g(){var t=Object(p.a)(["\n\tpadding: 0 8px;\n"]);return g=function(){return t},t}function m(){var t=Object(p.a)(["\n\tfont-weight: 700;\n"]);return m=function(){return t},t}function h(){var t=Object(p.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 8px;\n"]);return h=function(){return t},t}function v(){var t=Object(p.a)(["\n\tdisplay: flex;\n\theight: 100%;\n\tposition: relative;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground: ",";\n\n\t@media "," {\n\t\tpadding: 0;\n\t\talign-items: center;\n\t}\n"]);return v=function(){return t},t}var y=u.c.div(v(),(function(t){var e=t.theme,n=t.type;return b.a.get(e,[n,"background"],"white")}),s.tablet),x=u.c.span(h()),j=u.c.label(m()),w=u.c.span(g()),O=function(t){var e=t.children,n=t.type,r=t.score;return a.a.createElement(y,{type:n},a.a.createElement(x,null,a.a.createElement(j,null,"Score:"),a.a.createElement(w,null,r)),e)},C={user:"fa-user",computer:"fa-robot"};function E(){var t=Object(p.a)(["\n\tfont-size: 14px;\n\tline-height: 16px;\n\tfont-weight: 600;\n"]);return E=function(){return t},t}function k(){var t=Object(p.a)(["\n\tpadding: 0 8px;\n\ttext-align: right;\n\tfont-size: 14px;\n"]);return k=function(){return t},t}function R(){var t=Object(p.a)(["\n\theight: 32px;\n\twidth: 32px;\n\tfont-size: 32px;\n\n\t@media "," {\n\t\theight: 48px;\n\t\twidth: 48px;\n\t\tfont-size: 48px;\n\t}\n"]);return R=function(){return t},t}function S(){var t=Object(p.a)(["\n\tdisplay: flex;\n"]);return S=function(){return t},t}var A=u.c.div(S()),D=u.c.div(R(),s.tablet),F=u.c.div(k()),z=u.c.h1(E()),N=function(t){var e=t.title,n=t.info,r=t.type;return a.a.createElement(A,null,a.a.createElement(D,null,a.a.createElement("i",{className:"fa ".concat(C[r])})),a.a.createElement(F,null,a.a.createElement(z,null,e),n.map((function(t,e){return a.a.createElement("span",{key:e},t)}))))};N.defaultProps={title:"",info:[]};var T=N,P=n(5);function Y(){var t=Object(p.a)(["\n\twidth: auto;\n\tpadding-right: 4px;\n"]);return Y=function(){return t},t}function _(){var t=Object(p.a)(["\n\tpadding-left: 4px;\n"]);return _=function(){return t},t}function I(){var t=Object(p.a)(["\n\t\t\tbackground-color: ",";\n\t\t\tcolor: ",";\n\n\t\t\t&:disabled {\n\t\t\t\tbackground-color: ",";\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t"]);return I=function(){return t},t}function W(){var t=Object(p.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px 0;\n\tmargin-bottom: 2px;\n\tjustify-content: space-between;\n\tborder: 1px #ccc solid;\n\tbackground-color: white;\n\tcolor: black;\n\ttext-align: left;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground-color: #ddd;\n\t}\n\n\t&:disabled {\n\t\tbackground-color: white;\n\t\tcolor: black;\n\t\tcursor: auto;\n\t}\n\n\t",";\n"]);return W=function(){return t},t}function B(){var t=Object(p.a)(["\n\tpadding: 16px 0;\n"]);return B=function(){return t},t}var L=u.c.div(B()),H=u.c.button(W(),(function(t){var e=b.a.get(t,["theme","gameState",t.state],{});return Object(u.b)(I(),e.background,e.text,e.background,e.text)})),J=u.c.div(_()),M=u.c.div(Y()),q=function(t){var e=t.categories,n=t.readonly,r=t.handleCategoryClick,c=t.state,o=t.selectedCategory;return a.a.createElement(L,null,Object.entries(e).map((function(t,e){var u=Object(P.a)(t,2),i=u[0],l=u[1];return a.a.createElement(H,{key:e,disabled:n,onClick:function(){return r(i)},state:o===i&&c},a.a.createElement(J,null,i),a.a.createElement(M,null,l))})))};q.defaultProps={categories:{},readonly:!0,state:"unplayed",selectedCategory:""};var G=q;function K(){var t=Object(p.a)(["\n\tdisplay: flex;\n\theight: 128px;\n\twidth: 128px;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 64px;\n\tbackground-color: #777;\n\tcolor: white;\n\tborder-radius: 50%;\n"]);return K=function(){return t},t}function U(){var t=Object(p.a)(["\n\tdisplay: flex;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: 1px solid #ccc;\n\tborder-radius: 10px;\n"]);return U=function(){return t},t}var $=u.c.div(U()),Q=u.c.div(K()),V=function(t){var e=t.type;return a.a.createElement($,null,a.a.createElement(Q,null,a.a.createElement("i",{className:"fa ".concat(C[e])})))};function X(){var t=Object(p.a)(["\n\ttransform: rotateY(180deg);\n"]);return X=function(){return t},t}function Z(){var t=Object(p.a)([""]);return Z=function(){return t},t}function tt(){var t=Object(p.a)(["\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\tpadding: 16px;\n\theight: 100%;\n\twidth: 100%;\n\tflex-direction: column;\n\tbackface-visibility: hidden;\n\tbackground-color: white;\n\tborder-radius: 20px;\n\tbox-shadow: 8px 5px 0 rgba(0, 0, 0, 0.3), 11px 10px 0 rgba(0, 0, 0, 0.22);\n"]);return tt=function(){return t},t}function et(){var t=Object(p.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\theight: 200px;\n\twidth: 100%;\n\tmax-width: 400px;\n\tmargin: 0 16px;\n\ttransform-style: preserve-3d;\n\ttransition: transform 0.6s;\n\ttransform: rotateY(",");\n\n\t@media "," {\n\t\theight: 400px;\n\t\tmax-width: 270px;\n\t}\n"]);return et=function(){return t},t}var nt=u.c.div(et(),(function(t){return t.show?"0deg":"180deg"}),s.tablet),rt=u.c.div(tt()),at=Object(u.c)(rt)(Z()),ct=Object(u.c)(rt)(X()),ot=function(t){var e=t.type,n=t.data,r=t.show,c=t.readonly,o=t.handleCategoryClick,u=t.state,i=t.selectedCategory;return a.a.createElement(nt,{show:r},a.a.createElement(at,null,a.a.createElement(T,{type:e,title:n.title,info:n.info}),a.a.createElement(G,{state:u,readonly:c,categories:n.categories,handleCategoryClick:o,selectedCategory:i})),a.a.createElement(ct,null,a.a.createElement(V,{type:e})))};ot.defaultProps={show:!0,readonly:!0,type:"user",data:{title:"",categories:{},info:[]}};var ut=ot,it=n(7),lt=n.n(it);function st(){var t=Object(p.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbox-sizing: border-box;\n\tpadding: 8px;\n"]);return st=function(){return t},t}function dt(){var t=Object(p.a)(["\n\t\t\tbackground-color: ",";\n\t\t\tcolor: ",";\n\t\t"]);return dt=function(){return t},t}function pt(){var t=Object(p.a)(["\n\tposition: absolute;\n\tdisplay: flex;\n\theight: 64px;\n\twidth: 64px;\n\ttop: calc(50% - 32px);\n\tleft: calc(50% - 32px);\n\tjustify-content: center;\n\talign-items: center;\n\ttext-align: center;\n\tborder: 1px solid #ccc;\n\tborder-radius: 50%;\n\tfont-weight: 500;\n\tbox-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3), 2px 2px 0 rgba(0, 0, 0, 0.22);\n\n\t",";\n"]);return pt=function(){return t},t}function ft(){var t=Object(p.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\theight: 100vh;\n\twidth: 100vw;\n\n\t@media "," {\n\t\tflex-direction: row;\n\t}\n"]);return ft=function(){return t},t}var bt={unplayed:"?",win:"You Win!",lose:"You Lose!",draw:"You Draw!"},gt=u.c.div(ft(),s.tablet),mt=u.c.span(pt(),(function(t){var e=b.a.get(t,["theme","gameState",t.state],{});return Object(u.b)(dt(),e.background,e.text)})),ht=u.c.span(st()),vt=function(t){var e=t.children,n=t.state,r=t.currentRound,c=t.totalRounds;return a.a.createElement(gt,null,e,a.a.createElement(mt,{state:n},bt[n]),a.a.createElement(ht,null,"Round ",r," / ",c))};vt.propType={state:lt.a.oneOf(["win","lose","draw","unplayed"]),currentRound:lt.a.number,totalRounds:lt.a.number},vt.defaultProps={state:"unplayed"};var yt=vt,xt=n(9),jt=n.n(xt),wt=n(17),Ot=n(3),Ct="HANDLE_CATEGORY_CLICK",Et="SET_CARDS",kt="START_NEW_ROUND",Rt="HIDE_CARDS",St=function(t,e){var n=t.player,r=t.computer,a=function(t){t.length%2===1&&t.pop();var e=[],n=[];return t.forEach((function(t,r){r%2===0?e.push(t):n.push(t)})),[e,n]}(function(t){return t.sort((function(){return Math.random()-.5}))}(e)),c=Object(P.a)(a,2),o=c[0],u=c[1];return Object(Ot.a)(Object(Ot.a)({},t),{},{loading:!1,currentRound:1,totalRounds:e.length/2,allCards:e,player:Object(Ot.a)(Object(Ot.a)({},n),{},{readonly:!1,showCard:!0,currentCard:o[0],cards:o,score:o.length}),computer:Object(Ot.a)(Object(Ot.a)({},r),{},{readonly:!0,currentCard:u[0],cards:u,score:u.length})})};function At(t,e){switch(e.type){case Et:return St(t,e.value);case Ct:return function(t,e){var n=t.player,r=t.computer,a=Object(Ot.a)({},n),c=Object(Ot.a)({},r),o=n.currentCard.categories[e],u=r.currentCard.categories[e];return o<u?(a.state="lose",a.score=n.score-1,c.state="win",c.score=r.score+1):o>u?(a.state="win",a.score=n.score+1,c.state="lose",c.score=r.score-1):(a.state="draw",c.state="draw"),b.a.remove(a.cards,(function(t){return t.id===a.currentCard.id})),b.a.remove(c.cards,(function(t){return t.id===c.currentCard.id})),Object(Ot.a)(Object(Ot.a)({},t),{},{player:Object(Ot.a)(Object(Ot.a)({},a),{},{readonly:!0}),computer:Object(Ot.a)(Object(Ot.a)({},c),{},{showCard:!0}),selectedCategory:e})}(t,e.value);case kt:return function(t){var e=t.player,n=t.computer,r=t.currentRound,a=Object(Ot.a)({},e),c=Object(Ot.a)({},n);return a.currentCard=a.cards[0],c.currentCard=c.cards[0],Object(Ot.a)(Object(Ot.a)({},t),{},{currentRound:r+1,player:Object(Ot.a)(Object(Ot.a)({},a),{},{showCard:!0,readonly:!1}),computer:Object(Ot.a)(Object(Ot.a)({},c),{},{showCard:!1}),selectedCategory:void 0})}(t);case Rt:return function(t){var e=t.player,n=t.computer;return Object(Ot.a)(Object(Ot.a)({},t),{},{player:Object(Ot.a)(Object(Ot.a)({},e),{},{showCard:!1,state:void 0}),computer:Object(Ot.a)(Object(Ot.a)({},n),{},{showCard:!1,state:void 0})})}(t);default:return t}}var Dt={loading:!0,totalRounds:0,currentRound:0,allCards:[],player:{showCard:!1,readonly:!1,cards:[]},computer:{showCard:!1,readonly:!0,cards:[]}},Ft=n(18),zt=n(19),Nt=n(20),Tt=n.n(Nt),Pt=new(function(){function t(){Object(Ft.a)(this,t)}return Object(zt.a)(t,[{key:"getStarShips",value:function(){return Tt()("https://api-euwest.graphcms.com/v1/ck5wca13qc9ux01fgaidt12m4/master","{\n\t\t\tstarships {\n\t\t\t\tid,\n\t\t\t\tname,\n\t\t\t\tclass,\n\t\t\t\tmaxAtmospheringSpeed,\n\t\t\t\tcostInCredits,\n\t\t\t\tpassengers,\n\t\t\t\tfilms {\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t}\n\t\t}").then((function(t){return t.starships.map((function(t){return{id:t.id,title:t.name,info:[t.class],categories:{Speed:t.maxAtmospheringSpeed||0,Cost:t.costInCredits||0,Passengers:t.passengers||0,Films:t.films.length}}}))}))}}]),t}()),Yt=Object(r.createContext)({});function _t(t){var e=t.children,n=Object(r.useReducer)(At,Dt),c=Object(P.a)(n,2),o=c[0],u=c[1],i={loading:o.loading,allCards:o.allCards,player:o.player,computer:o.computer,selectedCategory:o.selectedCategory,totalRounds:o.totalRounds,currentRound:o.currentRound,setCards:function(t){return u({type:Et,value:t})},handleCategoryClick:function(t){return u({type:Ct,value:t})},startNewRound:function(){return u({type:kt})},hideCards:function(){return u({type:Rt})}};return Object(r.useEffect)((function(){!function(){var t=Object(wt.a)(jt.a.mark((function t(){var e;return jt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pt.getStarShips();case 2:e=t.sent,i.setCards(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),a.a.createElement(Yt.Provider,{value:i},e)}var It=function(){var t=Object(r.useContext)(Yt),e=t.loading,n=t.player,c=t.computer,o=t.handleCategoryClick,u=t.selectedCategory,i=t.startNewRound,l=t.hideCards,s=t.totalRounds,d=t.currentRound;return e?null:a.a.createElement(yt,{state:n.state,totalRounds:s,currentRound:d},a.a.createElement(O,{type:"user",score:n.score},a.a.createElement(ut,{show:n.showCard,state:n.state,type:"user",data:n.currentCard,handleCategoryClick:function(t){o(t),setTimeout((function(){l(),setTimeout((function(){i()}),1e3)}),3e3)},readonly:n.readonly,selectedCategory:u})),a.a.createElement(O,{type:"computer",score:c.score},a.a.createElement(ut,{show:c.showCard,state:c.state,type:"computer",data:c.currentCard,readonly:!0,selectedCategory:u})))},Wt=function(){return a.a.createElement(u.a,{theme:d},a.a.createElement(_t,null,a.a.createElement(It,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.540a7e74.chunk.js.map